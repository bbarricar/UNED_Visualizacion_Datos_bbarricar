<!DOCTYPE html>
<html>
<head>
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-lite@5.8.0"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"config": {"view": {"continuousWidth": 300, "continuousHeight": 300}}, "hconcat": [{"layer": [{"data": {"name": "empty"}, "mark": {"type": "rect", "color": "goldenrod", "opacity": 0.5}, "encoding": {"x": {"value": 210}, "x2": {"value": 318}, "y": {"value": 0}, "y2": {"value": 300}}}, {"data": {"name": "data-04cdbc5cf2d1c893daa5c477e806ad38"}, "mark": {"type": "line"}, "encoding": {"x": {"field": "fecha", "title": "Fecha", "type": "temporal"}, "y": {"field": "valor", "title": "Precio electricidad (\u20ac/MWh)", "type": "quantitative"}}, "title": "Evoluci\u00f3n precio de la energ\u00eda el\u00e9ctrica"}, {"data": {"name": "data-04cdbc5cf2d1c893daa5c477e806ad38"}, "mark": {"type": "line", "color": "red", "size": 2}, "encoding": {"x": {"field": "fecha", "type": "temporal"}, "y": {"field": "rolling_mean", "type": "quantitative"}}, "transform": [{"window": [{"op": "mean", "field": "valor", "as": "rolling_mean"}]}]}], "height": 300, "width": 350}, {"layer": [{"data": {"name": "data-04cdbc5cf2d1c893daa5c477e806ad38"}, "mark": {"type": "line"}, "encoding": {"x": {"field": "fecha", "title": "Fecha", "type": "temporal"}, "y": {"field": "variacion", "title": "% Variacion", "type": "quantitative"}}, "title": "Variaci\u00f3n precio de la energ\u00eda el\u00e9ctrica"}, {"data": {"name": "empty"}, "mark": {"type": "rule", "color": "black", "size": 1, "strokeDash": [12, 6]}, "encoding": {"y": {"datum": 0}}}], "height": 300, "width": 350}], "$schema": "https://vega.github.io/schema/vega-lite/v5.8.0.json", "datasets": {"empty": [{}], "data-04cdbc5cf2d1c893daa5c477e806ad38": [{"valor": 67.1, "porcentaje": 1, "fecha": "2015-01-01T00:00:00.000+01:00", "variacion": 0.0}, {"valor": 58.8, "porcentaje": 1, "fecha": "2015-02-01T00:00:00.000+01:00", "variacion": -12.37}, {"valor": 56.7, "porcentaje": 1, "fecha": "2015-03-01T00:00:00.000+01:00", "variacion": -3.57}, {"valor": 59.5, "porcentaje": 1, "fecha": "2015-04-01T00:00:00.000+02:00", "variacion": 4.94}, {"valor": 58.1, "porcentaje": 1, "fecha": "2015-05-01T00:00:00.000+02:00", "variacion": -2.35}, {"valor": 67.0, "porcentaje": 1, "fecha": "2015-06-01T00:00:00.000+02:00", "variacion": 15.32}, {"valor": 72.5, "porcentaje": 1, "fecha": "2015-07-01T00:00:00.000+02:00", "variacion": 8.21}, {"valor": 65.2, "porcentaje": 1, "fecha": "2015-08-01T00:00:00.000+02:00", "variacion": -10.07}, {"valor": 61.1, "porcentaje": 1, "fecha": "2015-09-01T00:00:00.000+02:00", "variacion": -6.29}, {"valor": 60.3, "porcentaje": 1, "fecha": "2015-10-01T00:00:00.000+02:00", "variacion": -1.31}, {"valor": 62.1, "porcentaje": 1, "fecha": "2015-11-01T00:00:00.000+01:00", "variacion": 2.99}, {"valor": 63.6, "porcentaje": 1, "fecha": "2015-12-01T00:00:00.000+01:00", "variacion": 2.42}, {"valor": 47.4, "porcentaje": 1, "fecha": "2016-01-01T00:00:00.000+01:00", "variacion": -25.47}, {"valor": 38.1, "porcentaje": 1, "fecha": "2016-02-01T00:00:00.000+01:00", "variacion": -19.62}, {"valor": 37.7, "porcentaje": 1, "fecha": "2016-03-01T00:00:00.000+01:00", "variacion": -1.05}, {"valor": 33.4, "porcentaje": 1, "fecha": "2016-04-01T00:00:00.000+02:00", "variacion": -11.41}, {"valor": 35.6, "porcentaje": 1, "fecha": "2016-05-01T00:00:00.000+02:00", "variacion": 6.59}, {"valor": 46.7, "porcentaje": 1, "fecha": "2016-06-01T00:00:00.000+02:00", "variacion": 31.18}, {"valor": 48.2, "porcentaje": 1, "fecha": "2016-07-01T00:00:00.000+02:00", "variacion": 3.21}, {"valor": 48.1, "porcentaje": 1, "fecha": "2016-08-01T00:00:00.000+02:00", "variacion": -0.21}, {"valor": 51.1, "porcentaje": 1, "fecha": "2016-09-01T00:00:00.000+02:00", "variacion": 6.24}, {"valor": 61.2, "porcentaje": 1, "fecha": "2016-10-01T00:00:00.000+02:00", "variacion": 19.77}, {"valor": 63.9, "porcentaje": 1, "fecha": "2016-11-01T00:00:00.000+01:00", "variacion": 4.41}, {"valor": 69.0, "porcentaje": 1, "fecha": "2016-12-01T00:00:00.000+01:00", "variacion": 7.98}, {"valor": 81.6, "porcentaje": 1, "fecha": "2017-01-01T00:00:00.000+01:00", "variacion": 18.26}, {"valor": 61.2, "porcentaje": 1, "fecha": "2017-02-01T00:00:00.000+01:00", "variacion": -25.0}, {"valor": 51.6, "porcentaje": 1, "fecha": "2017-03-01T00:00:00.000+01:00", "variacion": -15.69}, {"valor": 52.1, "porcentaje": 1, "fecha": "2017-04-01T00:00:00.000+02:00", "variacion": 0.97}, {"valor": 54.2, "porcentaje": 1, "fecha": "2017-05-01T00:00:00.000+02:00", "variacion": 4.03}, {"valor": 56.9, "porcentaje": 1, "fecha": "2017-06-01T00:00:00.000+02:00", "variacion": 4.98}, {"valor": 55.9, "porcentaje": 1, "fecha": "2017-07-01T00:00:00.000+02:00", "variacion": -1.76}, {"valor": 54.7, "porcentaje": 1, "fecha": "2017-08-01T00:00:00.000+02:00", "variacion": -2.15}, {"valor": 56.3, "porcentaje": 1, "fecha": "2017-09-01T00:00:00.000+02:00", "variacion": 2.93}, {"valor": 64.8, "porcentaje": 1, "fecha": "2017-10-01T00:00:00.000+02:00", "variacion": 15.1}, {"valor": 66.8, "porcentaje": 1, "fecha": "2017-11-01T00:00:00.000+01:00", "variacion": 3.09}, {"valor": 67.3, "porcentaje": 1, "fecha": "2017-12-01T00:00:00.000+01:00", "variacion": 0.75}, {"valor": 58.3, "porcentaje": 1, "fecha": "2018-01-01T00:00:00.000+01:00", "variacion": -13.37}, {"valor": 61.9, "porcentaje": 1, "fecha": "2018-02-01T00:00:00.000+01:00", "variacion": 6.17}, {"valor": 49.9, "porcentaje": 1, "fecha": "2018-03-01T00:00:00.000+01:00", "variacion": -19.39}, {"valor": 51.3, "porcentaje": 1, "fecha": "2018-04-01T00:00:00.000+02:00", "variacion": 2.81}, {"valor": 62.1, "porcentaje": 1, "fecha": "2018-05-01T00:00:00.000+02:00", "variacion": 21.05}, {"valor": 64.8, "porcentaje": 1, "fecha": "2018-06-01T00:00:00.000+02:00", "variacion": 4.35}, {"valor": 68.4, "porcentaje": 1, "fecha": "2018-07-01T00:00:00.000+02:00", "variacion": 5.56}, {"valor": 71.1, "porcentaje": 1, "fecha": "2018-08-01T00:00:00.000+02:00", "variacion": 3.95}, {"valor": 77.6, "porcentaje": 1, "fecha": "2018-09-01T00:00:00.000+02:00", "variacion": 9.14}, {"valor": 71.5, "porcentaje": 1, "fecha": "2018-10-01T00:00:00.000+02:00", "variacion": -7.86}, {"valor": 67.7, "porcentaje": 1, "fecha": "2018-11-01T00:00:00.000+01:00", "variacion": -5.31}, {"valor": 68.0, "porcentaje": 1, "fecha": "2018-12-01T00:00:00.000+01:00", "variacion": 0.44}, {"valor": 68.0, "porcentaje": 1, "fecha": "2019-01-01T00:00:00.000+01:00", "variacion": 0.0}, {"valor": 59.9, "porcentaje": 1, "fecha": "2019-02-01T00:00:00.000+01:00", "variacion": -11.91}, {"valor": 54.2, "porcentaje": 1, "fecha": "2019-03-01T00:00:00.000+01:00", "variacion": -9.52}, {"valor": 56.6, "porcentaje": 1, "fecha": "2019-04-01T00:00:00.000+02:00", "variacion": 4.43}, {"valor": 53.8, "porcentaje": 1, "fecha": "2019-05-01T00:00:00.000+02:00", "variacion": -4.95}, {"valor": 52.1, "porcentaje": 1, "fecha": "2019-06-01T00:00:00.000+02:00", "variacion": -3.16}, {"valor": 56.7, "porcentaje": 1, "fecha": "2019-07-01T00:00:00.000+02:00", "variacion": 8.83}, {"valor": 49.2, "porcentaje": 1, "fecha": "2019-08-01T00:00:00.000+02:00", "variacion": -13.23}, {"valor": 46.8, "porcentaje": 1, "fecha": "2019-09-01T00:00:00.000+02:00", "variacion": -4.88}, {"valor": 52.2, "porcentaje": 1, "fecha": "2019-10-01T00:00:00.000+02:00", "variacion": 11.54}, {"valor": 48.3, "porcentaje": 1, "fecha": "2019-11-01T00:00:00.000+01:00", "variacion": -7.47}, {"valor": 41.2, "porcentaje": 1, "fecha": "2019-12-01T00:00:00.000+01:00", "variacion": -14.7}, {"valor": 47.0, "porcentaje": 1, "fecha": "2020-01-01T00:00:00.000+01:00", "variacion": 14.08}, {"valor": 41.4, "porcentaje": 1, "fecha": "2020-02-01T00:00:00.000+01:00", "variacion": -11.91}, {"valor": 33.2, "porcentaje": 1, "fecha": "2020-03-01T00:00:00.000+01:00", "variacion": -19.81}, {"valor": 25.3, "porcentaje": 1, "fecha": "2020-04-01T00:00:00.000+02:00", "variacion": -23.8}, {"valor": 27.4, "porcentaje": 1, "fecha": "2020-05-01T00:00:00.000+02:00", "variacion": 8.3}, {"valor": 36.0, "porcentaje": 1, "fecha": "2020-06-01T00:00:00.000+02:00", "variacion": 31.39}, {"valor": 40.0, "porcentaje": 1, "fecha": "2020-07-01T00:00:00.000+02:00", "variacion": 11.11}, {"valor": 41.1, "porcentaje": 1, "fecha": "2020-08-01T00:00:00.000+02:00", "variacion": 2.75}, {"valor": 47.4, "porcentaje": 1, "fecha": "2020-09-01T00:00:00.000+02:00", "variacion": 15.33}, {"valor": 42.6, "porcentaje": 1, "fecha": "2020-10-01T00:00:00.000+02:00", "variacion": -10.13}, {"valor": 48.1, "porcentaje": 1, "fecha": "2020-11-01T00:00:00.000+01:00", "variacion": 12.91}, {"valor": 49.0, "porcentaje": 1, "fecha": "2020-12-01T00:00:00.000+01:00", "variacion": 1.87}, {"valor": 70.3, "porcentaje": 1, "fecha": "2021-01-01T00:00:00.000+01:00", "variacion": 43.47}, {"valor": 36.8, "porcentaje": 1, "fecha": "2021-02-01T00:00:00.000+01:00", "variacion": -47.65}, {"valor": 52.0, "porcentaje": 1, "fecha": "2021-03-01T00:00:00.000+01:00", "variacion": 41.3}, {"valor": 71.5, "porcentaje": 1, "fecha": "2021-04-01T00:00:00.000+02:00", "variacion": 37.5}, {"valor": 74.0, "porcentaje": 1, "fecha": "2021-05-01T00:00:00.000+02:00", "variacion": 3.5}, {"valor": 87.2, "porcentaje": 1, "fecha": "2021-06-01T00:00:00.000+02:00", "variacion": 17.84}, {"valor": 96.4, "porcentaje": 1, "fecha": "2021-07-01T00:00:00.000+02:00", "variacion": 10.55}, {"valor": 111.3, "porcentaje": 1, "fecha": "2021-08-01T00:00:00.000+02:00", "variacion": 15.46}, {"valor": 160.7, "porcentaje": 1, "fecha": "2021-09-01T00:00:00.000+02:00", "variacion": 44.38}, {"valor": 209.3, "porcentaje": 1, "fecha": "2021-10-01T00:00:00.000+02:00", "variacion": 30.24}, {"valor": 203.8, "porcentaje": 1, "fecha": "2021-11-01T00:00:00.000+01:00", "variacion": -2.63}, {"valor": 252.2, "porcentaje": 1, "fecha": "2021-12-01T00:00:00.000+01:00", "variacion": 23.75}, {"valor": 210.1, "porcentaje": 1, "fecha": "2022-01-01T00:00:00.000+01:00", "variacion": -16.69}, {"valor": 205.9, "porcentaje": 1, "fecha": "2022-02-01T00:00:00.000+01:00", "variacion": -2.0}, {"valor": 294.5, "porcentaje": 1, "fecha": "2022-03-01T00:00:00.000+01:00", "variacion": 43.03}, {"valor": 203.0, "porcentaje": 1, "fecha": "2022-04-01T00:00:00.000+02:00", "variacion": -31.07}, {"valor": 195.8, "porcentaje": 1, "fecha": "2022-05-01T00:00:00.000+02:00", "variacion": -3.55}, {"valor": 203.3, "porcentaje": 1, "fecha": "2022-06-01T00:00:00.000+02:00", "variacion": 3.83}, {"valor": 216.5, "porcentaje": 1, "fecha": "2022-07-01T00:00:00.000+02:00", "variacion": 6.49}, {"valor": 250.8, "porcentaje": 1, "fecha": "2022-08-01T00:00:00.000+02:00", "variacion": 15.84}, {"valor": 216.2, "porcentaje": 1, "fecha": "2022-09-01T00:00:00.000+02:00", "variacion": -13.8}, {"valor": 161.0, "porcentaje": 1, "fecha": "2022-10-01T00:00:00.000+02:00", "variacion": -25.53}, {"valor": 132.2, "porcentaje": 1, "fecha": "2022-11-01T00:00:00.000+01:00", "variacion": -17.89}, {"valor": 145.8, "porcentaje": 1, "fecha": "2022-12-01T00:00:00.000+01:00", "variacion": 10.29}]}};
      var embedOpt = {"mode": "vega-lite"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>